<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <!-- CSS from Materialize, Google's ubuntu font api, and my two external css files  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Ubuntu:regular,bold&subset=Latin">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="background.css">  
    <title>World's #1 Trading Hub</title>
</head>
<body class="grey lighten-3">
  <!-- Materialize styling - https://materializecss.com/navbar.html -->
  <nav class="nav-wrapper z-depth-0 grey lighten-4">
    <a href="#" class="brand-logo" style=" color: black; margin-left: 10px;">EZTrade.gg - The fastest way to trade on Steam</a>
    <a href="#" class="brand-logo center"> 
      <img src="logo.png" style=" width: 220px; margin-left: auto; margin-right: auto; margin-top: 10px;"> <!--TODO: alter the way this image appears on the webpage as to not interfere with other webpage details-->
    </a>
    
    <ul id="nav-mobile" class="right">
        <li class="logged-out" style="display: block">
            <a href="#" class="grey-text modal-trigger" data-target="modal-login-steam">Sign in with Steam</a> <!--TODO: make steam logo appear beside this button and make the whole thing function as a button-->
        </li>
        <li class="logged-out" style="display: block">
          <a href="#" class="red-text modal-trigger" data-target="modal-signup">Register</a>
        </li>
        <li class="logged-out" style="display: block">
          <a href="#" class="red-text modal-trigger" data-target="modal-login">Login</a>
        </li>
        <li class="logged-in" style="display: block">
          <a href="#" class="black-text modal-trigger" data-target="modal-account">Your Account</a>
        </li>
        <li class="logged-in" style="display: block">
          <a href="#" class="black-text modal-trigger" data-target="modal-bots">Bot Trades</a>
        </li>
        <li class="logged-in" style="display: block">
          <a href="#" class="black-text modal-trigger" data-target="modal-create">Create Trade Offer</a>
        </li>
        <li class="logged-in" style="display: block">
          <a href="#" class="black-text" id="logout">Sign Out</a>
        </li>
    </ul>
  </nav>

  <!--LIST OF TRADE OFFERS-->
  <div class="container" style="margin-top: 170px;">
    <ul class="z-depth-0 logs" style="border: none;">
      
    </ul>
  </div>

  <!-- STEAM LOGIN MODAL - this is functionality-wise exactly the same as the login modal but this is just for steam -->
  <div id="modal-login-steam" class="modal">
    <div class="modal-content">
      <div style="display: flex;"><img src = "steam.png" style = "width:35px;height:35px; margin-right: 15px;"><h4>Sign in with Steam</h4><br></div>
      <form id="steam-login-form">
        <div class="input-field">
          <input type="email" id="steam-login-email" required />
          <label for="steam-login-email">Email address associated with your Steam account</label>
        </div>
        <div class="input-field">
          <input type="password" id="steam-login-password" required />
          <label for="steam-login-password">Password</label>
        </div>
        <button class="btn red darken-2 z-depth-0">Sign in</button> <br><br>
        <div><div style="color: red;" id="errorMessageLoginSteam"></div></div> <!--display errors with logging in-->
      </form>
    </div>
  </div>

   <!-- SIGN UP MODAL -->
  <div id="modal-signup" class="modal">
    <div class="modal-content">
      <h4>Register a new account</h4><br />
      <form id="signup-form">
        <div class="input-field">
          <input type="email" id="signup-email" required />
          <label for="signup-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="signup-password" required />
          <label for="signup-password">Set password</label>
        </div>
        <div class="input-field">
          <input type = "text" id = "signup-display-name" required />
          <label for="signup-display-name">Set display name</label>
        </div>
        <button class="btn red darken-2 z-depth-0">Create Account</button> <br><br>
        <div><div style="color: red;" id="errorMessageSignUp"></div></div> <!--display errors with signing up-->
      </form>
    </div>
  </div>

  <!--LOGIN MODAL -->
  <div id="modal-login" class="modal">
    <div class="modal-content">
      <h4>Welcome back! Please log in</h4><br />
      <form id="login-form">
        <div class="input-field">
          <input type="email" id="login-email" required />
          <label for="login-email">Email address</label>
        </div>
        <div class="input-field">
          <input type="password" id="login-password" required />
          <label for="login-password">Password</label>
        </div>
        <button class="btn red darken-2 z-depth-0">Log in</button> <br><br>
        <div><div style="color: red;" id="errorMessageLogin"></div></div> <!--display errors with logging in-->
      </form>
    </div>
  </div>

  <!--ACCOUNT DETAILS MODAL-->
  <div id="modal-account" class="modal">
    <div class="modal-content">
      <h4>Your Account Details</h4>
      <br>
      <div class="account-details"></div>
    </div>
  </div>

  <!--BOT TRADES MODAL-->
  <div id="modal-bots" class="modal">
    <div class="modal-content">
      <h4>Start a Bot Trade</h4>
      <div class="bot-trades"></div>
    </div>
  </div>
  
  <!-- CREATE TRADE OFFER MODAL -->
   <div id="modal-create" class="modal">
       <div class="modal-content">
       <h4>Create Trade Offer</h4><br />
       <form id="add-form">
           <div class="input-field">
            <input type="text" id="offer" required>
             <label for="title">Items you have</label>
           </div>
           <div class="input-field">
             <textarea id="request" class="materialize-textarea" required></textarea>
              <label for="content">Items you want in return</label>
           </div>
          <button class="btn red darken-2 z-depth-0">Create</button>
      </form>
      </div>
  </div>

  <!--FAQ-->
  <ld class="logged-out" style="display: block">
    <div id="inner">
    <h4 style="text-align: center;">FAQ</h4>
    <button type="button" class="collapsible">How does it work?</button>
      <div class="content" style="background-color: transparent;">
        <p>On EZTrade.gg, you can post the skins you would like to trade on the Steam Marketplace for other items, or you can skip the hassle with other users entirely and trade directly with our bots to quickly get what you want.</p>
      </div>
      <button type="button" class="collapsible">Do you take a fee?</button>
      <div class="content" style="background-color: transparent;">
        <p>Trades with our own provided bots will take a 1-5% fee. This is how the site generates revenue.</p>
      </div>
      <button type="button" class="collapsible">Is my information safe?</button>
      <div class="content" style="background-color: transparent;">
        <p>Absolutely! When signing in with Steam, we don't receive any of your account credentials. Otherwise, your password is safely encrypted in our database.</p>
      </div>
    </div>
  </ld>

  <!--waves background, sample code obtained from https://codepen.io/goodkatz/pen/LYPGxQz, shoutout to Arvind for helping me to implement it-->
  <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
  viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
  <defs>
      <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
  </defs>
  <g class="parallax">
      <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(0,0,0,0.7" />
      <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(0,0,0,0.5)" />
      <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(0,0,0,0.3)" />
      <use xlink:href="#gentle-wave" x="48" y="7" fill="#000" />
  </g>
</svg>
  
  <!-- THIS IS WHERE YOU COPY / PASTE THE FIREBASE SDK INFO and add the firestore SDK-->

  <script>
    /*the code in this script block is only for the collapsible buttons, obtained from https://www.w3schools.com/howto/howto_js_collapsible.asp */
    var coll = document.getElementsByClassName("collapsible");
    var i;
    
    for (i = 0; i < coll.length; i++) {
      coll[i].addEventListener("click", function() {
        this.classList.toggle("active");
        var content = this.nextElementSibling;
        if (content.style.display === "block") {
          content.style.display = "none";
        } else {
          content.style.display = "block";
        }
      });
    }
    </script>

  <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.4/firebase-firestore.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyD1gyDwFBfIcvd_J-5bBxGgeZJOkzDV5B8",
        authDomain: "ajay-malik-web-app.firebaseapp.com",
        projectId: "ajay-malik-web-app",
        storageBucket: "ajay-malik-web-app.appspot.com",
        messagingSenderId: "201373434410",
        appId: "1:201373434410:web:f285e065e4bfd469473953",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();
      const db = firebase.firestore();
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/index.js"></script>
</body>
</html>
